<!DOCTYPE html>
<html lang="en">
        <head>
            <meta name="viewport" content="width=device-width, initial-scale=1"> 
            <!--Bootstrap-->
            <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.css">
            <script src="/bootstrap/dist/js/bootstrap.js"></script>
            <!--jQuery-->
            <script src="/jquerry/jquerry.js"></script>
            <!--Leaflet-->
            <link rel="stylesheet" href="/leaflet/dist/leaflet.css"/>
            <script type="text/javascript" src="/leaflet/dist/leaflet.js"></script>
            <!--Leaflet Draw-->
            <link rel="stylesheet" href='/leaflet-draw/dist/leaflet.draw.css'/>
            <script src='/leaflet-draw/dist/leaflet.draw.js'></script>
            <!--Style-->
            <link rel="stylesheet" type="text/css" href="/css/index.css">
            <!--Functions-->
            <script type="text/javascript" src="/js/uebung_4.js"></script>  
        </head>
        <body>
            <button onclick="getDatafromDB()">Test</button>
        </body>
        <script>
            function getDatafromDB() { 
                var data;
                {$.ajax({ //handle request via ajax
                    url: "/search", //request url is the prebuild request
                    method: "GET", //method is GET since we want to get data not post or update it
                    })
                    .done(function(response) { //if the request is done -> successful
                        //bind a popupto the given marker / the popupt is formatted in HTML and 
                        //is enriched with information extracted from the api response
                        data = response;
                        console.log(data);
                    })
                    .fail(function(xhr, status, errorThrown) { //if the request fails (for some reason)
                        console.log("Request has failed :(", '/n', "Status: " + status, '/n', "Error: " + errorThrown); //we log a message on the console
                    })
                    .always(function(xhr, status) { //if the request is "closed", either successful or not 
                        console.log("Request completed"); //a short message is logged
                    })
                }
            }
        </script>
</html> 